<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>Escapes Today - Italy</title>
<link rel="shortcut icon" href="img/favicon.ico">
<link rel='stylesheet' href='fonts/fonts.css'>
<link rel="stylesheet" href="data/main.css">
<link rel="stylesheet" href="data/vertical_slider.css">
<link rel="stylesheet" href="addons/font-awesome-4.2.0/css/font-awesome.min.css">
</head>

<body>
<div id="header" style="width: 100%; height: 300px;"> <div style="height:300px;width:100%;background:rgb(220,232, 243);background-image: url( img/Italy/itybg3.jpg); background-size: cover; background-position: center 66%" alt="">
  <div id="navheader">
    <div style="margin-left: 0px; border:1px; border-color:red;"> <a href="http://www.escapes.today" id="logo"> <img style="height: 90px;" src="img/logo.svg" alt="Escapes Today logo"> </a> </div>
    <div id="links">
      <ul >
        <li><a href="index.html" class="current">Home</a></li>
        <li><a href="destinations.html">Destinations</a></li>
        <li><a href="#">Travel Tips</a></li>
        <li><a href="#">About</a></li>
        <li><a href="#">Contact</a></li>
      </ul>
    </div>
  </div>
  </div>
</div>
<div style="background-color:rgb(220,232, 243); color:#1a3275;	padding: 10px 20%;font-size:1.2em;display: inline-block;">

  <div id="weather"></div>
  
 
   
      <h1 id="country" style="text-align: center; font-size: 3em;">Italy</h1>


  
<p style="margin-top: 20px;"> Italy, officially the Italian Republic is a unitary parliamentary republic in Southern Europe. Famous for their art, architecture, and food, Italy is a destination full of sights to see.  You'll enjoy seeing the culture of 14th century artists, and enjoying traditional Italian food.  See what we have available for you to do, for the lowest price. </p>
</div>
<div id="products">
<div class="instructions" style="color: rgb(220,232, 243); font-size: 1.3em;margin-top:20px; margin-bottom:25px;text-align: right;">
<h2 style="margin:10px;">Personalized Travel Plan</h2>
    <p style="margin:10px;">Click and drag the items to your plan below or click the plus button to add automatically. Our value packages are located below.</p>
  </div>
  <div class="locations">
    <ul class="showcase">
      <li>
        <div class="shadowbox">
          <div class="poi"> 
          <i class="addRemove fa fa-plus" style="font-size:22px"></i><img class="max" src="img/Italy/milan2.jpg">
            <div class="cover max" style="position:absolute;">
              <div class="description">
                <h2>Milan Cathedral</h2>
                <h4>Milan, Italy</h4>
                <p class="info">Milan is a gothic cathedral from the 14th century.  Archbishop Antonio da Saluzzo began construction in the 14th century, hiring first chief engineer Simone da Orsenigo and more than three hundred men.  The cathedral has been a tourist attraction and a symbol of religious prestige.  With our partner Viator, we have private tours available.</p>
                <div class="bottomBar">
                  <span class="price rating" style="left: 10px; right:auto"> $101.72 </span>
                <div class="rating"> <i class="fa fa-star"></i> <i class="fa fa-star"></i> <i class="fa fa-star"></i>
<i class="fa fa-star"> </i><i class="fa fa-star-half-o"></i> </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </li>
      <li>
        <div class="shadowbox">
          <div class="poi">
          <i class="addRemove fa fa-plus" style="font-size:22px"></i> <img class="max" src="img/Italy/trevi2.jpg">
          
            <div class="cover max" style="position:absolute;">
              <div class="description">
                <h2>Trevi Fountain, Italy</h2>
                <h4>Rome, Italy</h4>
                <p class="info">Legend says a young girl lead soldiers to a source of water a little bit outside of rome.  Augustus built an aquaduct to bring the water into the city.  In 1629, Pope Urban VIII commishioned Gian Lorenzo Bernini to renovate the fountain.  Viator has a walking tour around Trevi Plazza to hit all the hot spots.</p>
                  <span class="price rating" style="left: 10px; right:auto"> $47.05 </span>
                <div class="rating"> <i class="fa fa-star"></i> <i class="fa fa-star"></i> <i class="fa fa-star"></i> <i class="fa fa-star-half-o"></i> <i class="fa fa-star-o"></i> </div>
              </div>
            </div>
          </div>
        </div>
      </li>
      <li>
        <div class="shadowbox">
          <div class="poi">
          <i class="addRemove fa fa-plus" style="font-size:22px"></i>
           <img class="max" src="img/Italy/pisa2.jpg">
            <div class="cover max" style="position:absolute;">
              <div class="description">
                <h2>Tower of Pisa</h2>
                <h4>Pisa, Italy</h4>
                <p class="info">The tower is the third oldest structure in the city.  Completed in the 14th century, the tower is a tourist attraction and landmark.  This belltower is unintentionally leaning to the side.  This is caused by the ground being too soft on one side during construction.  Book with us and Viator will have tours for pisa and the tower.</p>
                  <span class="price rating" style="left: 10px; right:auto"> $92.19 </span>
                <div class="rating"> <i class="fa fa-star"></i> <i class="fa fa-star"></i> <i class="fa fa-star"></i> <i class="fa fa-star"></i> <i class="fa fa-star-o"></i> </div>
              </div>
            </div>
          </div>
        </div>
      </li>
      <li>
        <div class="shadowbox">
          <div class="poi"> <i class="addRemove fa fa-plus" style="font-size:22px"></i>
          <img class="max" src="img/Italy/Lapergola.jpg">
            <div class="cover max" style="position:absolute;">
              <div class="description">
                <h2>La Pergola Italian Restaurant</h2>
                <h4>Rome, Italy</h4>
                <p class="info">This Italian Gourmet restaurant will give you tradtional Italian cuisine.  A fresh loaf of bread wit salt and olive oil to start off your meal, followed by your meal.  The warm and humble staff will make sure your every need is satisfied.  Try their grand dessert in the end which consists of seven plates of pastries and traditional Italain desserts.</p>
                  <span class="price rating" style="left: 10px; right:auto"> $150-$350 </span>
                <div class="rating"> <i class="fa fa-star"></i> <i class="fa fa-star"></i> <i class="fa fa-star"></i> <i class="fa fa-star"></i> <i class="fa fa-star"></i> </div>
              </div>
            </div>
          </div>
        </div>
      </li>
      <li>
        <div class="shadowbox">
          <div class="poi">
          <i class="addRemove fa fa-plus" style="font-size:22px"></i> <img class="max" src="img/Italy/albergo.jpg">
            <div class="cover max" style="position:absolute;">
              <div class="description">
                <h2>Albergo del Senato</h2>
                <h4>Rome, Italy</h4>
                <p class="info">This hotel in Rome will put you within walking distance of the hotspots of the city.  Service is phenomenal and this is one of the cleanest hotels in Rome.  One will enjoy having the pantheon right at the steps of the hotel.</p>  
                <div class="options">
                <span>Room: </span><select name="room" class="dragignore">
					<option value="220">Presidental @ $220</option>
					<option value="175">Deluxe @ $175</option>
					<option value="130" selected="selected">Normal @ $130</option>
				</select>
                <br>
                   <span>Number of nights: </span>
                  <input type="number" name="nights" min="1" max="20" value="1" class="dragignore">
                </div>
                  <span class="price rating" style="left: 10px; right:auto"> $130-$220 </span>
                <div class="rating"> <i class="fa fa-star"></i> <i class="fa fa-star"></i> <i class="fa fa-star"></i> <i class="fa fa-star-half-o"></i> <i class="fa fa-star-o"></i> </div>
              </div>
            </div>
          </div>
        </div>
      </li>
      <li>
        <div class="shadowbox">
          <div class="poi"> 
          <i class="addRemove fa fa-plus" style="font-size:22px"></i><img class="max" src="img/Italy/elogo.png">
            <div class="cover max" style="position:absolute;">
              <div class="description">
                <h2>Enterprise</h2>
                <h4>Rent-A-Car</h4>
                <p class="info">Enterprise is a company that has car locations all around the world.  You can choose from a variety of cars.  Want to save?  Rent a compact.  Want to be comfortable?  Rent a luxary.  Prices vary between cars and times</p>
                 <span class="price rating" style="left: 10px; right:auto"> $80-$160 </span>
                <div class="rating"> <i class="fa fa-star"></i> <i class="fa fa-star"></i> <i class="fa fa-star"></i> <i class="fa fa-star-half-o"></i> <i class="fa fa-star-o"></i> </div>
              </div>
            </div>
          </div>
        </div>
      </li>
    </ul>
  </div>

  <div class="btns" style="text-align:center;">
   <a class="btnd" id="dealsbtn">View Travel Deals</a>
   <a class="btnd" id="makebtn">Create Plan</a>
  </div>
  
  <div class="dealbox slidein">
  <ul class="deals">
   <li>
        <div class="shadowbox">
          <div class="poi">
         <img class="max" src="img/Jamaica/bluemt.jpg">
            <div class="cover max" style="position:absolute;">
              <div class="description">
                <h2>This is Batman Freeman 1</h2>
                <h4>Combination with Batman and Morgan Freeman</h4>
                <p class="info">Batman Freeman is the preposterous brain child of Mr. Tyler Morris. Batman Freeman has been in existence for an unknown amount of time and is here to stay.</p>
                  <span class="price rating" style="left: 10px; right:auto"> $399.99 </span>
                <div class="rating"> <i class="fa fa-star"></i> <i class="fa fa-star"></i> <i class="fa fa-star"></i> <i class="fa fa-star-half-o"></i> <i class="fa fa-star-o"></i> </div>
              </div>
            </div>
          </div>
        </div>
      </li>
       <li>
        <div class="shadowbox">
          <div class="poi">
        <img class="max" src="img/Italy/elogo.png">
            <div class="cover max" style="position:absolute;">
              <div class="description">
                <h2>This is Batman Freeman 2</h2>
                <h4>Combination with Batman and Morgan Freeman</h4>
                <p class="info">ggg</p>
                  <span class="price rating" style="left: 10px; right:auto"> $399.99 </span>
                <div class="rating"> <i class="fa fa-star"></i> <i class="fa fa-star"></i> <i class="fa fa-star"></i> <i class="fa fa-star-half-o"></i> <i class="fa fa-star-o"></i> </div>
              </div>
            </div>
          </div>
        </div>
      </li>
  </ul>
  </div>

  <div class="makeplan slidein" style="color:rgb(26, 50, 117);overflow: hidden;">
    <h2 style="margin:10px;text-align:center">Travel Plan</h2>
  <ul class="destination">

  </ul>
  <hr class="divider">
  <div class="total">
      <div class="checkoutinfo checkoutslideRight">
      <h2>Contact Information</h2>
  <form style="border: 2px solid rgb(26, 50, 117);padding: 10px;" name="buyform" method="post">
First name:<br>
<input type="text" name="firstname">
<br>
Last name:<br>
<input type="text" name="lastname">
<br>
Email:<br>
<input type="email" name="email"><br>
Phone:<br>
<input type="tel" name="phone"><br>
<br>
Comments:<br>
<textarea id="confirmationText" class="text"  rows ="5" name="confirmationText" style="width: 100%; resize:vertical;"></textarea>

<div class="btns" style="text-align:right;padding-bottom: 0px;">
    <a class="btnd submitOrder">Submit</a></div>
        <p class="orderRem"></p>
</form> 
  </div>
  
<table width="350" border="0" cellpadding="5px" style="font-size: 1.1em; margin: 0 auto;">
<caption style="font-size:2em;font-weight:bold">Travel Plan
</caption>
<tr>
<th colspan="3" style="text-align:left;font-size: 1.4em;">Items</th>
</tr>

<tr class="empty">
<td><span style="font-style: italic;">Empty</span></td>
<td colspan="2">&nbsp;</td>
<td></td>
</tr>
<tr class="space">
<td colspan="2">&nbsp;</td>
<td style="width: 18px;">&nbsp;</td>
</tr>
<tr>
<td>Sub-total</td>
<td id="sub-total"></td>
<td></td>
</tr>
<tr>
<td>Tax</td>
<td id="tax" ></td>
<td></td>
</tr>

<tr>
<td>Grand total</td>
<td id="total"></td>
</tr>

<tr style="text-align: center;">
<td colspan="3"><div class="btns">
     <a class="btnd" id="clear">Clear Cart</a>
    <a class="btnd" id="checkout">Checkout</a>
    </div>
</td>

</tr>
</table>

  
  </div>
  </div>
</div>


<div style="width:100%; height:100px;">Sample Footer</div>
</body>
<!-- jQuery Scripts -->
<script src="addons/jquery/jquery-1.11.1.min.js"></script>
<script src="addons/jquery-ui-1.11.2/jquery-ui.min.js"></script>
<!-- Weather Scripts -->
<script src="addons/simpleweather/jquery.simpleWeather.min.js"></script>
<script src="data/weather.js"></script>
<!-- Cart Scripts -->
<script src="addons/checkout.js"></script>
<script>
$(function () {
    $(".showcase").sortable({
        connectWith: ".destination",
        containment: "#products",
		cancel: ".addRemove, .dragignore",   
        scroll: true,
	});
	//Slide out the makeplan div when user drags a POI
	$(".showcase").on("click, mousedown", "li", function () {
	  $('.makeplan').removeClass('slidein').css("min-height", "300px");
	  $('.makeplan').css("min-height", "");
	});
    $(".showcase").disableSelection();
    $(".destination").sortable({
        connectWith: ".showcase",
        containment: "#products",
        scroll: true,
		cancel: ".addRemove, .dragignore",
        receive: function (event, ui) {
            $(ui.item).children(".shadowbox").children(".poi").toggleClass("small");
			if($(this).children().size() >= 1){
				$(this).children("li").children(".total").css("display","inline-block");
			}
			var poi = $(ui.item).children(".shadowbox").children(".poi");
			var name = ($(poi).find("h2").text());
			var price = ($(poi).find(".price").text());
			add(name, price);
			$(".addRemove").change();
        },
        remove: function (event, ui) {
			var poi = $(ui.item).children(".shadowbox").children(".poi");
			var name = ($(poi).find("h2").text());
			var price = ($(poi).find(".price").text());
			remove(name);
            poi.toggleClass("small");
			$(".addRemove").change();
        },
    });
    $(".destination").disableSelection();
	$('.deals .shadowbox .poi').addClass('small');
    $('#dealsbtn').click(function () {
        $('.dealbox').toggleClass('slidein');
	        if (!$('.dealbox').hasClass('slidein')) {
            $('html, body').animate({
                scrollTop: $('.dealbox').offset().top
            }, 500);
        }
    });
    $('#makebtn').click(function () {
 	 	$('.makeplan').toggleClass('slidein');
		if (!$('.makeplan').hasClass('slidein')) {
            $('html, body').animate({
                scrollTop: $('.makeplan').offset().top
            }, 500);
        }
    });
	$("#clear").click(function () {
		if($(".destination").children().size() > 0){
			if (confirm("Are you sure you want to clear the cart?") == true) {
			  $(".destination").children().each(function () {
				  $(this).children(".shadowbox").children(".poi").removeClass("small");
				  $(this).insertAfter($(".showcase").children().last())
			  });
			  $(".destination").trigger("sortupdate");
			  $(".showcase").trigger("sortupdate");
			  clear();
			}
		}		
	});
	
	
	$.simpleWeather({
        location: 'Rome, Italy',
        woeid: '',
        unit: 'f',
        success: weather,
		error: function (error) {
            $("#weather").html('<p>' + error + '</p>');
        }
    });
	
$(document).on("change", ".addRemove", function () {
	if($(this).parent(".poi").hasClass("small")){
		$(this).removeClass("fa-plus fa-plus-circle fa-times-circle");
 	 	$(this).addClass("fa-times");
	}else {
		$(this).removeClass("fa-times fa-times-circle fa-plus-circle");
		$(this).addClass("fa-plus");
	}
}).on("mouseenter", ".addRemove", function () {
	if($(this).parent(".poi").hasClass("small")){
		$(this).removeClass("fa-times");
 	 	$(this).addClass("fa-times-circle");
	}else {
		$(this).removeClass("fa-plus");
 	 	$(this).addClass("fa-plus-circle");
	}
}).on(" mouseleave", ".addRemove", function () {
	if($(this).parent(".poi").hasClass("small")){
		$(this).removeClass("fa-times-circle");
 	 	$(this).addClass("fa-times");
	}else {
		$(this).removeClass("fa-plus-circle");
 	 	$(this).addClass("fa-plus");
	}
}).on("click", ".addRemove", function () {
	 if($(this).parent(".poi").hasClass("small")){
		// console.log($(this).parent().find("h2").html());
	remove($(this).parent().find("h2").html());	
		$(".addRemove").change();
	$(".destination").trigger("sortupdate");
	 $(".showcase").trigger("sortupdate");
	 }else {
	
		var li =  $(this).parent(".poi").parent(".shadowbox").parent("li");
		$(li).appendTo($(".destination"));
		
		 $(li).children(".shadowbox").children(".poi").toggleClass("small");
			
			var poi = $(li).children(".shadowbox").children(".poi");
			var name = ($(poi).find("h2").text());
			var price = ($(poi).find(".price").text());
			add(name, price);
			$(".addRemove").change();
	
	 }
});

$("#checkout").click(function(e) {
    $(".checkoutinfo").toggleClass("checkoutslideRight");
	$(".checkoutinfo").toggleClass("checkoutNorm");
});
});


$(".submitOrder").click(function(e) {
  if(check_form()){
	var now = new Date();
	var start = new Date(now.getFullYear(), 0, 0);
	var diff = now - start;
	
	//86400000 is number of ms in a day
	var day = Math.floor(diff / 86400000);
	var mstag = now.getMilliseconds() % 1000;
	var orderNum = day + mstag;
	
	var rem = "Your order #" + orderNum + " has been recieved.";
	$(this).parent().siblings(".orderRem").text(rem);
	clear_form();
  }
});


  $(document).on("change", ".options .dragignore", function() {
	var poi = $(this).closest(".poi");//().find(".poi");
	 
	 //Get from room type 
	 var cpn  = parseInt(poi.find("[name='room']").val());
	 //Get from number
	 var nights =  parseInt(poi.find("[name='nights']").val());
	 var cost = cpn*nights;
	 
	 poi.children().find(".price").text("$" + cost).trigger("change");



			var name = ($(poi).find("h2").text());
			var price = ($(poi).find(".price").text());
			updatePrice(name,price);
			
	 console.log(cpn*nights);
  });


function check_form(){
    var $blankFields = $('form input').filter(function () {
        return $.trim($(this).val()) === "";
    });
    if ($blankFields.length) {
		var errors = "Please enter a value for: \n       ";
        $blankFields.each(function () {
            errors +=  $(this).attr('name') + "\n       ";
        });
        alert(errors);
        return false;
    }
    return true;
}


function clear_form(){
   $('form input, form textarea').each(function () {
		$(this).val("");
   });
}
</script>
</html>